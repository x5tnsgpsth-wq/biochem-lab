<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BioChem Pro Lab | ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ù…Ø®ØªØ¨Ø± Ø§Ù„Ù…ØªÙƒØ§Ù…Ù„</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=IBM+Plex+Sans+Arabic:wght@300;400;600;700&display=swap');
        
        body {
            font-family: 'IBM Plex Sans Arabic', sans-serif;
            background-color: #0f172a;
            color: #f1f5f9;
            height: 100vh;
            margin: 0;
            overflow: hidden;
        }

        .glass {
            background: rgba(30, 41, 59, 0.75);
            backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        /* Test Tube Styling */
        .test-tube {
            width: 75px;
            height: 250px;
            background: linear-gradient(to right, rgba(255,255,255,0.05), rgba(255,255,255,0.2), rgba(255,255,255,0.05));
            border: 2px solid rgba(255,255,255,0.2);
            border-bottom-left-radius: 40px;
            border-bottom-right-radius: 40px;
            position: relative;
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5);
            overflow: hidden;
        }

        .liquid-layer {
            position: absolute;
            bottom: 0;
            width: 100%;
            height: 0%;
            transition: all 1.5s cubic-bezier(0.4, 0, 0.2, 1);
        }

        /* Animations */
        @keyframes steam-rise {
            0% { transform: translateY(0) scale(1); opacity: 0.5; }
            100% { transform: translateY(-60px) scale(2.5); opacity: 0; }
        }

        .steam-particle {
            width: 4px;
            height: 12px;
            background: rgba(255,255,255,0.4);
            filter: blur(3px);
            border-radius: 50%;
            animation: steam-rise 2s infinite;
        }

        .micro-lens {
            width: 130px;
            height: 130px;
            border-radius: 50%;
            border: 5px solid #334155;
            background: radial-gradient(circle, #1e293b, #020617);
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: inset 0 0 20px rgba(0,0,0,0.8);
        }

        /* Custom Scrollbar */
        ::-webkit-scrollbar { width: 6px; }
        ::-webkit-scrollbar-track { background: transparent; }
        ::-webkit-scrollbar-thumb { background: #334155; border-radius: 10px; }
    </style>
</head>
<body class="flex flex-col">

    <!-- Header / Navigation -->
    <header class="h-16 glass flex items-center justify-between px-6 z-50 border-b border-white/5">
        <div class="flex items-center gap-4">
            <div class="w-10 h-10 bg-emerald-600 rounded-xl flex items-center justify-center text-xl shadow-lg shadow-emerald-500/20">ğŸ§ª</div>
            <div>
                <h1 class="font-bold text-lg tracking-tight">BioChem <span class="text-emerald-400">Pro</span></h1>
                <p class="text-[10px] text-slate-400 font-medium">Ù†Ø¸Ø§Ù… Ø§Ù„Ù…Ø®ØªØ¨Ø± Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠ Ù„Ù„Ø£ÙƒØ§Ø¯ÙŠÙ…ÙŠÙŠÙ†</p>
            </div>
        </div>

        <div class="flex items-center gap-8">
            <div class="hidden md:flex flex-col items-end">
                <span class="text-[10px] text-slate-500 font-bold uppercase tracking-widest">Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ø¥ØªÙ‚Ø§Ù† (XP)</span>
                <div class="w-40 h-2 bg-slate-800 rounded-full mt-1 overflow-hidden border border-white/5">
                    <div id="xp-bar" class="w-0 h-full bg-emerald-500 transition-all duration-700 shadow-[0_0_10px_#10b981]"></div>
                </div>
            </div>
            <button onclick="location.reload()" class="p-2 hover:bg-white/5 rounded-lg transition" title="Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ†">
                ğŸ”„
            </button>
        </div>
    </header>

    <div class="flex-1 flex overflow-hidden">
        
        <!-- Right Sidebar (Samples & Reagents) -->
        <aside class="w-80 glass border-l border-white/5 p-6 flex flex-col gap-6 overflow-y-auto">
            <section>
                <h3 class="text-[11px] font-bold text-emerald-400 mb-4 tracking-widest uppercase flex items-center gap-2">
                    <span class="w-1.5 h-1.5 bg-emerald-400 rounded-full"></span> Ø§Ù„Ø¹ÙŠÙ†Ø§Øª Ø§Ù„Ù…Ø®Ø¨Ø±ÙŠØ©
                </h3>
                <div id="sample-list" class="space-y-2"></div>
            </section>

            <section>
                <h3 class="text-[11px] font-bold text-blue-400 mb-4 tracking-widest uppercase flex items-center gap-2">
                    <span class="w-1.5 h-1.5 bg-blue-400 rounded-full"></span> Ø§Ù„ÙƒÙˆØ§Ø´Ù Ø§Ù„ÙƒÙŠÙ…ÙŠØ§Ø¦ÙŠØ©
                </h3>
                <div id="test-list" class="space-y-2"></div>
            </section>

            <div class="mt-auto pt-4 border-t border-white/5">
                <button onclick="toggleHeat()" id="heat-btn" class="w-full py-3 bg-slate-800 rounded-xl text-xs font-bold transition-all border border-slate-700 hover:border-orange-500 flex items-center justify-center gap-2">
                    <span>ğŸ”¥</span> ØªØ´ØºÙŠÙ„ Ø§Ù„Ø­Ù…Ø§Ù… Ø§Ù„Ù…Ø§Ø¦ÙŠ
                </button>
            </div>
        </aside>

        <!-- Main Workspace -->
        <main class="flex-1 relative flex flex-col items-center justify-center p-4">
            
            <!-- Steam Effect -->
            <div id="steam-container" class="absolute top-[20%] flex gap-4 opacity-0 transition-opacity duration-500">
                <div class="steam-particle" style="animation-delay: 0s"></div>
                <div class="steam-particle" style="animation-delay: 0.4s"></div>
                <div class="steam-particle" style="animation-delay: 0.8s"></div>
            </div>

            <div class="flex gap-16 items-end">
                <!-- Tube Section -->
                <div class="flex flex-col items-center gap-6">
                    <div id="tube-tag" class="px-4 py-1 bg-slate-900/80 rounded-full border border-white/10 text-[10px] font-mono text-emerald-400 shadow-xl opacity-0 transition-opacity">
                        SAMPLE_READY
                    </div>
                    <div class="test-tube" id="main-tube">
                        <div id="liquid-reagent" class="liquid-layer z-10"></div>
                        <div id="liquid-base" class="liquid-layer bg-slate-100/10"></div>
                        <div id="ring-layer" class="absolute top-[42%] w-full h-4 blur-[2px] opacity-0 transition-all duration-[2s]"></div>
                    </div>
                </div>

                <!-- Microscope Section -->
                <div class="hidden lg:flex flex-col items-center gap-4">
                    <div class="glass p-5 rounded-3xl border-emerald-500/10 shadow-2xl">
                        <p class="text-[10px] font-bold text-slate-500 mb-3 uppercase text-center tracking-tighter">Ø§Ù„ÙØ­Øµ Ø§Ù„Ù…Ø¬Ù‡Ø±ÙŠ</p>
                        <div class="micro-lens" id="micro-view">
                            <span class="text-4xl filter grayscale opacity-20">ğŸ”¬</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Reaction Status Card -->
            <div id="status-card" class="absolute bottom-8 w-full max-w-2xl px-6 opacity-0 translate-y-8 transition-all duration-500">
                <div class="glass rounded-2xl p-6 border-r-4 border-emerald-500 shadow-2xl">
                    <div class="flex justify-between items-start mb-3">
                        <div>
                            <h2 id="st-title" class="text-xl font-bold">Ø§Ø³Ù… Ø§Ù„ØªÙØ§Ø¹Ù„</h2>
                            <p id="st-result" class="text-sm font-bold mt-1">Ø¨Ø§Ù†ØªØ¸Ø§Ø± Ø§Ù„Ù†ØªÙŠØ¬Ø©...</p>
                        </div>
                        <div class="text-[10px] bg-white/5 px-2 py-1 rounded border border-white/10 font-mono text-slate-400">REALTIME_ANALYSIS</div>
                    </div>
                    <p id="st-desc" class="text-xs text-slate-400 leading-relaxed mb-4"></p>
                    <div class="p-3 bg-black/30 rounded-xl font-mono text-[11px] text-blue-300 border border-white/5 overflow-x-auto" id="st-formula">
                        $Equation_Loading...$
                    </div>
                </div>
            </div>
        </main>

        <!-- Left Sidebar (Stats & History) -->
        <aside class="w-80 glass border-r border-white/5 p-6 flex flex-col gap-6">
            <div>
                <h3 class="text-[11px] font-bold text-slate-500 mb-4 tracking-widest uppercase">Ù…Ø®Ø·Ø· Ø§Ù„ØªÙØ§Ø¹Ù„</h3>
                <div class="h-44">
                    <canvas id="radarChart"></canvas>
                </div>
            </div>

            <div class="flex-1 flex flex-col min-h-0">
                <h3 class="text-[11px] font-bold text-slate-500 mb-4 tracking-widest uppercase">Ø³Ø¬Ù„ Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ±</h3>
                <div id="log-container" class="flex-1 overflow-y-auto space-y-2 pr-2">
                    <p class="text-[10px] text-slate-600 italic">Ù„Ø§ ØªÙˆØ¬Ø¯ Ø³Ø¬Ù„Ø§Øª Ø­Ø§Ù„ÙŠØ©...</p>
                </div>
            </div>
        </aside>

    </div>

    <!-- Notification -->
    <div id="toast" class="fixed top-20 left-1/2 -translate-x-1/2 glass border-emerald-500/50 text-emerald-400 px-8 py-3 rounded-full text-sm font-bold opacity-0 transition-all pointer-events-none z-[100] shadow-2xl"></div>

    <script>
        // --- Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ© Ø§Ù„Ù…Ø³ØªØ®Ù„ØµØ© Ù…Ù† Ø§Ù„ØªÙ‚Ø±ÙŠØ± ---
        const DB = {
            samples: [
                { id: 'glu', name: 'Ø¬Ù„ÙˆÙƒÙˆØ²', type: 'Ø£Ø­Ø§Ø¯ÙŠ (Aldose)', formula: 'Câ‚†Hâ‚â‚‚Oâ‚†', xp: 15 },
                { id: 'fru', name: 'ÙØ±ÙƒØªÙˆØ²', type: 'Ø£Ø­Ø§Ø¯ÙŠ (Ketose)', formula: 'Câ‚†Hâ‚â‚‚Oâ‚†', xp: 15 },
                { id: 'suc', name: 'Ø³ÙƒØ±ÙˆØ²', type: 'Ø«Ù†Ø§Ø¦ÙŠ (Non-red)', formula: 'Câ‚â‚‚Hâ‚‚â‚‚Oâ‚â‚', xp: 20 },
                { id: 'xyl', name: 'Ø²Ø§ÙŠÙ„ÙˆØ²', type: 'Ø®Ù…Ø§Ø³ÙŠ (Pentose)', formula: 'Câ‚…Hâ‚â‚€Oâ‚…', xp: 15 },
                { id: 'sta', name: 'Ø§Ù„Ù†Ø´Ø£', type: 'Ù…ØªØ¹Ø¯Ø¯ (Poly)', formula: '(Câ‚†Hâ‚â‚€Oâ‚…)â‚™', xp: 25 }
            ],
            tests: [
                { id: 'mol', name: 'ÙØ­Øµ Ù…ÙˆÙ„ÙŠØ´', info: 'ÙƒØ§Ø´Ù Ø¹Ø§Ù… Ù„Ù„ÙƒØ±Ø¨ÙˆÙ‡ÙŠØ¯Ø±Ø§Øª', heat: false },
                { id: 'ben', name: 'ÙØ­Øµ Ø¨Ù†Ø¯ÙƒØª', info: 'Ù„Ù„ÙƒØ´Ù Ø¹Ù† Ø§Ù„Ø³ÙƒØ± Ø§Ù„Ù…Ø®ØªØ²Ù„', heat: true },
                { id: 'sel', name: 'ÙØ­Øµ Ø³Ù„ÙŠÙˆØ§Ù†ÙˆÙ', info: 'Ù„Ù„ØªÙ…ÙŠÙŠØ² Ø¨ÙŠÙ† Ø§Ù„Ø£Ù„Ø¯ÙˆØ² ÙˆØ§Ù„ÙƒÙŠØªÙˆØ²', heat: true },
                { id: 'bia', name: 'ÙØ­Øµ Ø¨ÙŠØ§Ù„', info: 'Ù„Ù„ÙƒØ´Ù Ø¹Ù† Ø§Ù„Ø¨Ù†ØªÙˆØ²Ø§Øª', heat: true },
                { id: 'iod', name: 'ÙØ­Øµ Ø§Ù„ÙŠÙˆØ¯', info: 'Ù„Ù„ÙƒØ´Ù Ø¹Ù† Ø§Ù„Ù†Ø´Ø£', heat: false }
            ]
        };

        let activeSample = null;
        let isHeated = false;
        let totalXP = 0;
        let radar;

        // --- ØªÙ‡ÙŠØ¦Ø© Ø§Ù„ÙˆØ§Ø¬Ù‡Ø© ---
        window.onload = () => {
            const sDiv = document.getElementById('sample-list');
            sDiv.innerHTML = DB.samples.map(s => `
                <button onclick="pickS('${s.id}')" id="s-${s.id}" class="w-full text-right p-4 rounded-xl border border-white/5 bg-white/5 hover:bg-emerald-500/10 transition-all group">
                    <div class="flex justify-between items-center">
                        <span class="text-sm font-bold group-hover:text-emerald-400">${s.name}</span>
                        <span class="text-[9px] font-mono text-slate-500">${s.formula}</span>
                    </div>
                    <div class="text-[9px] text-slate-500 mt-1">${s.type}</div>
                </button>
            `).join('');

            const tDiv = document.getElementById('test-list');
            tDiv.innerHTML = DB.tests.map(t => `
                <button onclick="runT('${t.id}')" id="t-${t.id}" class="w-full text-right p-3 rounded-xl border border-white/5 bg-white/5 hover:bg-blue-500/10 transition-all text-xs font-bold flex justify-between">
                    ${t.name}
                    ${t.heat ? '<span class="text-[10px]">ğŸ”¥</span>' : ''}
                </button>
            `).join('');

            initRadar();
            notify("Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ùƒ ÙÙŠ Ø§Ù„Ù…Ø®ØªØ¨Ø±. Ø§Ø¨Ø¯Ø£ Ø¨Ø§Ø®ØªÙŠØ§Ø± Ø¹ÙŠÙ†Ø©.");
        };

        // --- Ø§Ù„Ù…Ù†Ø·Ù‚ Ø§Ù„ØªÙØ§Ø¹Ù„ÙŠ ---
        function pickS(id) {
            activeSample = DB.samples.find(s => s.id === id);
            highlight('s-', id, 'emerald');
            resetLabUI();
            document.getElementById('tube-tag').innerText = activeSample.id.toUpperCase();
            document.getElementById('tube-tag').style.opacity = '1';
            document.getElementById('liquid-base').style.height = '35%';
            notify(`ØªÙ… Ø³Ø­Ø¨ Ø¹ÙŠÙ†Ø© ${activeSample.name}`);
        }

        function toggleHeat() {
            isHeated = !isHeated;
            const btn = document.getElementById('heat-btn');
            const steam = document.getElementById('steam-container');
            btn.classList.toggle('bg-orange-600', isHeated);
            btn.classList.toggle('border-orange-400', isHeated);
            steam.style.opacity = isHeated ? '1' : '0';
        }

        function runT(tid) {
            if(!activeSample) return notify("âš ï¸ ÙŠØ±Ø¬Ù‰ Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ø¹ÙŠÙ†Ø© Ø£ÙˆÙ„Ø§Ù‹", "text-orange-400");
            const test = DB.tests.find(t => t.id === tid);

            if(test.heat && !isHeated) return notify("ğŸŒ¡ï¸ Ù‡Ø°Ø§ Ø§Ù„ØªÙØ§Ø¹Ù„ ÙŠØªØ·Ù„Ø¨ ØªØ³Ø®ÙŠÙ†Ø§Ù‹!", "text-orange-400");

            const reagent = document.getElementById('liquid-reagent');
            reagent.style.height = '65%';
            reagent.style.backgroundColor = 'rgba(255,255,255,0.15)';

            setTimeout(() => {
                const result = getReaction(activeSample.id, tid);
                showResult(test.name, result);
            }, 1200);
        }

        function getReaction(sid, tid) {
            const map = {
                'mol': { 
                    pos: true, color: '#fef3c733', ring: '#7e22ce', 
                    desc: 'ÙƒØ§Ø´Ù Ù…ÙˆÙ„ÙŠØ´ (Ø£Ù„ÙØ§ Ù†Ø§ÙØ«ÙˆÙ„) ÙŠØªÙØ§Ø¹Ù„ Ù…Ø¹ Ø§Ù„ÙƒØ±Ø¨ÙˆÙ‡ÙŠØ¯Ø±Ø§Øª Ø§Ù„Ù…Ù†Ø²ÙˆØ¹Ø© Ø§Ù„Ù…Ø§Ø¡ Ù„ØªÙƒÙˆÙŠÙ† Ø­Ù„Ù‚Ø© Ø¨Ù†ÙØ³Ø¬ÙŠØ©.',
                    formula: 'Carb + Hâ‚‚SOâ‚„ â†’ Furfural + Î±-naphthol â†’ Violet Ring',
                    micro: 'âœ¨', stats: [90, 80, 100]
                },
                'ben': {
                    pos: ['glu', 'fru', 'xyl'].includes(sid),
                    color: ['glu', 'fru', 'xyl'].includes(sid) ? '#ea580c' : '#3b82f6',
                    desc: ['glu', 'fru', 'xyl'].includes(sid) ? 'Ø§Ø®ØªØ²Ø§Ù„ Ø£ÙŠÙˆÙ†Ø§Øª Ø§Ù„Ù†Ø­Ø§Ø³ÙŠÙƒ Ø¥Ù„Ù‰ Ø£ÙƒØ³ÙŠØ¯ Ø§Ù„Ù†Ø­Ø§Ø³ÙˆØ² Ø§Ù„Ø£Ø­Ù…Ø±.' : 'Ø§Ù„Ø³ÙƒØ±ÙˆØ² Ø³ÙƒØ± ØºÙŠØ± Ù…Ø®ØªØ²Ù„ Ù„Ø£Ù† Ù…Ø¬Ù…ÙˆØ¹ØªÙ‡ Ø§Ù„ÙØ¹Ø§Ù„Ø© Ù…Ø±ØªØ¨Ø·Ø©.',
                    formula: 'R-CHO + 2Cuâºâº + 5OHâ» â†’ R-COOâ» + Cuâ‚‚Oâ†“ + 3Hâ‚‚O',
                    micro: ['glu', 'fru', 'xyl'].includes(sid) ? 'ğŸ”»' : 'ğŸ’§',
                    stats: ['glu', 'fru', 'xyl'].includes(sid) ? [100, 90, 80] : [10, 5, 20]
                },
                'sel': {
                    pos: ['fru', 'suc'].includes(sid),
                    color: ['fru', 'suc'].includes(sid) ? '#991b1b' : '#fecaca33',
                    desc: 'Ø§Ù„ÙƒÙŠØªÙˆØ²Ø§Øª ØªØªØ­ÙˆÙ„ Ù„Ù‡ÙŠØ¯Ø±ÙˆÙƒØ³ÙŠ Ù…ÙŠØ«ÙŠÙ„ ÙØ±ÙÙˆØ±Ø§Ù„ Ø§Ù„Ø°ÙŠ ÙŠØªÙƒØ«Ù Ù…Ø¹ Ø§Ù„Ø±ÙŠØ³ÙˆØ±Ø³ÙŠÙ†ÙˆÙ„ Ù„ÙŠØ¹Ø·ÙŠ Ù„ÙˆÙ†Ø§Ù‹ Ø£Ø­Ù…Ø±.',
                    formula: 'Ketose + HCl â†’ HMF + Resorcinol â†’ Cherry Red',
                    micro: 'ğŸ”´', stats: ['fru', 'suc'].includes(sid) ? [85, 95, 70] : [20, 10, 40]
                },
                'bia': {
                    pos: sid === 'xyl',
                    color: sid === 'xyl' ? '#065f46' : '#78350f',
                    desc: 'Ø§Ù„Ø¨Ù†ØªÙˆØ²Ø§Øª ØªØ¹Ø·ÙŠ ÙØ±ÙÙˆØ±Ø§Ù„ ÙŠØªØ­Ø¯ Ù…Ø¹ Ø§Ù„Ø£ÙˆØ±Ø³ÙŠÙ†ÙˆÙ„ ÙÙŠ ÙˆØ¬ÙˆØ¯ Ø§Ù„Ø­Ø¯ÙŠØ¯ Ù„ÙŠØ¹Ø·ÙŠ Ù„ÙˆÙ†Ø§Ù‹ Ø£Ø®Ø¶Ø±.',
                    formula: 'Pentose + HCl â†’ Furfural + Orcinol + FeClâ‚ƒ â†’ Green',
                    micro: 'ğŸŸ¢', stats: sid === 'xyl' ? [95, 70, 85] : [30, 10, 20]
                },
                'iod': {
                    pos: sid === 'sta',
                    color: sid === 'sta' ? '#1e3a8a' : '#fbbf24',
                    desc: 'ÙŠØ¯Ø®Ù„ Ø§Ù„ÙŠÙˆØ¯ Ø¯Ø§Ø®Ù„ Ø§Ù„Ø³Ù„Ø§Ø³Ù„ Ø§Ù„Ø­Ù„Ø²ÙˆÙ†ÙŠØ© Ù„Ù„Ù†Ø´Ø£ Ù…ÙƒÙˆÙ†Ø§Ù‹ Ù…Ø¹Ù‚Ø¯Ø§Ù‹ Ø£Ø²Ø±Ù‚ Ø¯Ø§ÙƒÙ†Ø§Ù‹.',
                    formula: 'Starch (Amylose) + Iâ‚‚ â†’ [Starch-Iâ‚‚] Complex',
                    micro: 'ğŸ”µ', stats: sid === 'sta' ? [100, 20, 100] : [10, 0, 10]
                }
            };
            return map[tid];
        }

        function showResult(testName, res) {
            document.getElementById('liquid-reagent').style.backgroundColor = res.color;
            document.getElementById('ring-layer').style.opacity = res.ring ? '1' : '0';
            if(res.ring) document.getElementById('ring-layer').style.backgroundColor = res.ring;

            const card = document.getElementById('status-card');
            card.style.opacity = '1';
            card.style.translate = '0';

            document.getElementById('st-title').innerText = testName;
            document.getElementById('st-result').innerText = res.pos ? "Ù†ØªÙŠØ¬Ø© Ø¥ÙŠØ¬Ø§Ø¨ÙŠØ© (+ve)" : "Ù†ØªÙŠØ¬Ø© Ø³Ù„Ø¨ÙŠØ© (-ve)";
            document.getElementById('st-result').className = res.pos ? "text-sm font-bold mt-1 text-emerald-400" : "text-sm font-bold mt-1 text-red-400";
            document.getElementById('st-desc').innerText = res.desc;
            document.getElementById('st-formula').innerText = res.formula;
            document.getElementById('micro-view').innerHTML = `<span class="text-5xl animate-pulse">${res.micro}</span>`;

            if(res.pos) {
                totalXP = Math.min(100, totalXP + 10);
                document.getElementById('xp-bar').style.width = totalXP + '%';
            }

            updateRadar(res.stats);
            log(testName, activeSample.name, res.pos);
        }

        // --- Ø£Ø¯ÙˆØ§Øª Ù…Ø³Ø§Ø¹Ø¯Ø© ---
        function highlight(prefix, id, color) {
            document.querySelectorAll(`[id^="${prefix}"]`).forEach(el => el.classList.remove(`border-${color}-500`, `bg-${color}-500/10`));
            document.getElementById(prefix + id).classList.add(`border-${color}-500`, `bg-${color}-500/10`);
        }

        function resetLabUI() {
            document.getElementById('liquid-reagent').style.height = '0%';
            document.getElementById('ring-layer').style.opacity = '0';
            document.getElementById('status-card').style.opacity = '0';
            document.getElementById('micro-view').innerHTML = `<span class="text-4xl filter grayscale opacity-20">ğŸ”¬</span>`;
        }

        function notify(msg, cls = "text-emerald-400") {
            const t = document.getElementById('toast');
            t.innerText = msg;
            t.className = `fixed top-20 left-1/2 -translate-x-1/2 glass border-emerald-500/50 ${cls} px-8 py-3 rounded-full text-sm font-bold opacity-100 transition-all z-[100]`;
            setTimeout(() => t.style.opacity = '0', 3000);
        }

        function log(test, sample, pos) {
            const container = document.getElementById('log-container');
            if(container.querySelector('p')) container.innerHTML = '';
            const div = document.createElement('div');
            div.className = `p-3 rounded-xl bg-white/5 border-r-4 ${pos ? 'border-emerald-500' : 'border-red-500'} text-[10px] animate-fade-in`;
            div.innerHTML = `<b>${test}</b> ØªÙ… Ø¹Ù„Ù‰ <b>${sample}</b>: <span class="${pos?'text-emerald-400':'text-red-400'}">${pos?'Ù†Ø§Ø¬Ø­':'Ø³Ù„Ø¨ÙŠ'}</span>`;
            container.prepend(div);
        }

        function initRadar() {
            const ctx = document.getElementById('radarChart').getContext('2d');
            radar = new Chart(ctx, {
                type: 'radar',
                data: {
                    labels: ['Ø§Ù„ØªØ±ÙƒÙŠØ²', 'Ø§Ù„Ø³Ø±Ø¹Ø©', 'Ø§Ù„Ø§Ø³ØªÙ‚Ø±Ø§Ø±'],
                    datasets: [{ data: [0,0,0], backgroundColor: 'rgba(16, 185, 129, 0.2)', borderColor: '#10b981', borderWidth: 2 }]
                },
                options: {
                    scales: { r: { grid: { color: '#334155' }, angleLines: { color: '#334155' }, ticks: { display: false }, min: 0, max: 100 } },
                    plugins: { legend: { display: false } }
                }
            });
        }

        function updateRadar(data) {
            radar.data.datasets[0].data = data;
            radar.update();
        }
    </script>
</body>
</html>

